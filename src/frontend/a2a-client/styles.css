:root {
  --bg: #0b0d10;
  --panel: #12151a;
  --muted: #a3a8b3;
  --text: #e6e7eb;
  --accent: #5db3ff;
  --good: #36c27a;
  --warn: #f3c969;
  --bad: #ff6b6b;
  --dim: #7f8694;
  --ring: #2a3240;
  --border: #202632;
}
* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
  margin: 0;
  background: linear-gradient(180deg, var(--bg), #0e1116);
  color: var(--text);
  font: 14px/1.45 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}
.app { display: grid; grid-template-rows: auto auto 1fr auto; height: 100%; max-width: 1100px; margin: 0 auto; gap: 12px; padding: 16px; }
.panel { background: var(--panel); border: 1px solid var(--border); border-radius: 12px; padding: 12px; box-shadow: 0 0 0 1px var(--ring) inset, 0 12px 24px rgba(0,0,0,0.25); }
.row { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
.row .grow { flex: 1 1 auto; min-width: 220px; }
label { font-size: 12px; color: var(--muted); display: block; margin-bottom: 6px; }
input[type="text"], textarea { width: 100%; background: #0f1319; color: var(--text); border: 1px solid var(--border); border-radius: 10px; padding: 10px 12px; outline: none; }
input[type="text"]:focus, textarea:focus { border-color: var(--accent); }
button { background: #1b2330; color: var(--text); border: 1px solid var(--border); border-radius: 10px; padding: 10px 14px; cursor: pointer; }
button.primary { background: var(--accent); color: #071019; border-color: transparent; }
button.ghost { background: transparent; }
button:disabled { opacity: 0.6; cursor: not-allowed; }
.status { font-size: 12px; color: var(--muted); }
.chat { display: grid; grid-template-rows: auto 1fr auto; gap: 10px; height: 100%; }
.panel-title { font-weight: 600; color: var(--muted); }
.log { overflow: auto; display: grid; gap: 10px; padding-right: 2px; }
.bubble { max-width: 72%; padding: 10px 12px; border-radius: 12px; line-height: 1.4; white-space: pre-wrap; word-break: break-word; }
/* User & external agent on the right (cool blue variants) */
.who-you { justify-self: end; background: #1e2a3a; border: 1px solid #273141; }
.who-them { justify-self: end; background: #243447; border: 1px solid #2d3f55; }
/* Planner on the left (distinct purple hue) */
.who-planner { justify-self: start; background: #261f36; border: 1px solid #3b2f59; }
.who-sys { justify-self: center; background: transparent; border: 1px dashed var(--border); color: var(--dim); }
.partial { opacity: 0.65; font-style: italic; }
.composer { display: grid; gap: 8px; }
.toolbar { display: flex; gap: 8px; align-items: center; justify-content: space-between; }
.pill { font-size: 12px; padding: 4px 8px; border-radius: 999px; border: 1px solid var(--border); color: var(--muted); }
.pill.green { color: var(--good); border-color: #274235; background: #0d1a13; }
.pill.warn { color: var(--warn); border-color: #4a3e1f; background: #181309; }
.pill.red { color: var(--bad); border-color: #4a2323; background: #1a0d0d; }
.tiny { font-size: 11px; color: var(--dim); }
.kbd { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; border: 1px solid var(--border); border-bottom-width: 2px; background: #0f1319; border-radius: 6px; padding: 1px 4px; display: inline-block; line-height: 1; vertical-align: middle; max-width: 100%; word-break: break-all; white-space: normal; overflow: auto; }
.wrap { word-break: break-word; white-space: normal; }
.scrollbox { max-height: 140px; overflow: auto; }
.split2 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; min-height: 360px; }
@media (max-width: 920px) { .split2 { grid-template-columns: 1fr; } }
.w-full { width: 100%; }

/* Attachments panel rows */
.attach { display: flex; flex-direction: column; gap: 8px; }
.attach-list-rows { display: grid; gap: 10px; }
.attach-row { display: grid; grid-template-columns: 1.2fr auto; gap: 8px; border: 1px solid var(--border); border-radius: 10px; padding: 10px; background: #10141a; }
.attach-row-left { display: grid; gap: 6px; }
.attach-row-actions { display: flex; gap: 6px; align-items: start; }
.attach-name { display: flex; align-items: center; gap: 6px; }
.attach-summary { grid-column: 1 / -1; }
.badge { display: inline-flex; gap: 6px; align-items: center; padding: 4px 8px; border-radius: 999px; background: #14151c; border: 1px solid var(--border); font-size: 12px; }
.badge .x { cursor: pointer; opacity: .7; }
.badge .x:hover { opacity: 1; }
